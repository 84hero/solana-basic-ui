# 域名服务

域名服务是一个SPL程序，用于发行和管理域名、Solana公钥、URL、Twitter用户名、IPFS CID等内容的所有权。

该程序的目标是为各种链接创建一种识别Solana公钥的简便方法，例如，可以通过浏览器扩展实现DNS、公钥等查找。

当然也可以有更广泛的用途。

关键点：

+   名称是一个映射到记录（程序派生账户）的字符串，该记录可以保存数据。
+   每个名称属于特定的类别，并且有特定的所有者，两者都通过他们的公钥来识别。名称的类别需要对名称的发行进行签名。
+   名称可以有一个父名称，通过其记录的地址来识别。如果父名称存在，父名称的所有者需要对子名称的发行进行签名。
+   名称注册表的数据由类别密钥对控制，如果设置为`Pubkey::default()`，则由名称所有者的密钥对控制。
+   只有所有者才能删除名称注册表。

注意事项和应用场景：

+   域名声明：可以任意设立一个我们称之为顶级域名(Top-Level-Domain)的类别。在这个类别中的名称只能在类别密钥对，即管理员的许可下发布，管理员可以强制要求顶级域名必须是形式如`".something"`的类型。从那时起，一个人可以创建并拥有顶级域名`".sol"`，并创建一个`.sol`子域名的类别，通过这种方式管理`"something.sol"`子域名的发行（通过将父名称设置为`".sol"`注册表的地址）。


一个离线的浏览器扩展可以像DNS一样工作，解析用户输入的SPL命名服务URL，沿着名称链向下追踪，验证这些名称的存在及其正确的父子关系，最终使用最末级子名称的数据（或者结合父级数据）来解析这个调用，导向一个真实的DNS URL或任何种类的数据。

尽管所有权和分类体系使特定类别的管理具有一定程度的集中化，但是创建新的类别是无需许可的。作为一个类别所有者，可以使用任何形式的去中心化治理签名程序。


+ Twitter 用户名可以作为一个特定名称类别的名称添加。因此，该类别的授权机构将持有添加 Twitter 用户名的权利。这使得例如通过要求用户发布一条关于他们的公钥或一个签名的推文消息来验证 Twitter 账户成为可能。一个持有私人发行授权密钥的机器人随后可以签署创建指令（带有一个推文的公钥作为 metadata_authority），并将其发送回用户，用户随后将其提交给程序。在这种情况下，该类别仍然能够控制名称注册表的数据，而不是用户。


使用域名服务程序的另一种方式是创建一个名称（例如"verified-twitter-handles"），并将其类别设置为Pubkey::default()，同时让权威机构成为所有者。这样一来，经过验证的Twitter用户名就可以作为这个父名称的子名称，由所有者进行发放，同时允许用户有权修改他们Twitter名称注册表中的数据。